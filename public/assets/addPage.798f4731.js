import{Q as c}from"./QInput.e276d07b.js";import{Q as h}from"./QSelect.91500a99.js";import{Q as q}from"./QToggle.7dbae79f.js";import{_ as y,z as k,u as p,a as m,c as f,r as g,o as x,b as _,f as d,w as C,e as l,n as V,Q as S}from"./index.3c3464c7.js";import{Q as I}from"./QForm.a583ca7a.js";const P={class:"container"},v={__name:"addPage",setup(Q){k(n=>({b8329910:l(r).text}));let s=p(),t=m(),r=f(()=>(t=m(),s=p(),s.mode=="Dark"?{base:t.dark.base,gray:t.dark.gray,color:t.dark.color,darkColor:t.dark.darkColor,text:t.dark.text,qbase:t.dark.qbase,qtext:t.dark.qtext,qgrey:t.dark.qgrey,qcolor:t.dark.qcolor,qdarkcolor:t.dark.qdarkColor}:s.mode=="Light"?{base:t.light.base,gray:t.light.gray,color:t.light.color,qcolor:t.light.qcolor,darkColor:t.light.darkColor,text:t.light.text,qbase:t.light.qbase,qtext:t.light.qtext,qgrey:t.light.qgrey,qdarkcolor:t.light.qdarkColor}:{qbase:"blue",base:"#ecf0f1",gray:"#bdc3c7",qgrey:"grey-3",color:"#3498db",darkColor:"#2980b9",text:"#000000",qtext:"dark",qcolor:"blue-10",qdarkcolor:"dark"})),o=g({headline:"",url:"",desc:"",template:"",save:!1}),u=g({templates:""});fetch("http://localhost:5500/template/all",{method:"GET",headers:{"Content-Type":"application/json",authorization:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6Ik5la28iLCJlbWFpbCI6Im5la29AdGhlNG5la28uaW8iLCJ0eXBlIjoiYWRtaW4iLCJpYXQiOjE2NzE2MzYyODd9.9760M_vr79SLJUg74lwTQ43_Kc0VApesnV-2GGjXXXA"}}).then(n=>{n.json().then(a=>{let e=[];for(let i=0;i<a.templates.length;i++)e.push(a.templates[i].name);u.templates=e})});function b(n){n.preventDefault(),o.save?fetch("http://localhost:5500/pages/",{method:"POST",headers:{"Content-Type":"application/json",authorization:s.token},body:JSON.stringify(o)}).then(a=>{a.json().then(e=>{window.location.href="http://localhost:5500/template/edit/"+o.template+"?token="+s.token+"&id="+e.id+"&save=false"})}):fetch("http://localhost:5500/pages/save",{method:"POST",headers:{"Content-Type":"application/json",authorization:s.token},body:JSON.stringify(o)}).then(a=>{a.json().then(e=>{window.location.href="http://localhost:5500/template/edit/"+o.template+"?token="+s.token+"&id="+o.url+"$-$"+o.headline+"$-$"+o.desc+"&save=true"})})}return(n,a)=>(x(),_("div",P,[d(I,{onSubmit:n.onSubmit,onReset:n.onReset,class:"q-gutter-md"},{default:C(()=>[d(c,{filled:"",modelValue:l(o).headline,"onUpdate:modelValue":a[0]||(a[0]=e=>l(o).headline=e),label:"Page name *","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type something"],"bg-color":l(r).qgrey,color:l(r).qtext,"label-color":l(r).qtext},null,8,["modelValue","rules","bg-color","color","label-color"]),d(c,{filled:"",modelValue:l(o).url,"onUpdate:modelValue":a[1]||(a[1]=e=>l(o).url=e),label:"Adress *","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type something"],"bg-color":l(r).qgrey,color:l(r).qtext,"label-color":l(r).qtext},null,8,["modelValue","rules","bg-color","color","label-color"]),d(c,{filled:"",modelValue:l(o).desc,"onUpdate:modelValue":a[2]||(a[2]=e=>l(o).desc=e),label:"Short description *","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type something"],"bg-color":l(r).qgrey,color:l(r).qtext,"label-color":l(r).qtext},null,8,["modelValue","rules","bg-color","color","label-color"]),d(h,{filled:"",modelValue:l(o).template,"onUpdate:modelValue":a[3]||(a[3]=e=>l(o).template=e),options:l(u).templates,label:"Select template *",rules:[e=>e&&e.length>0||"Please select something"],"bg-color":l(r).qgrey,color:l(r).qtext,"label-color":l(r).qtext},null,8,["modelValue","options","rules","bg-color","color","label-color"]),d(q,{modelValue:l(o).save,"onUpdate:modelValue":a[4]||(a[4]=e=>l(o).save=e),label:"Use API",class:V("text-"+l(r).qtext)},null,8,["modelValue","class"]),d(S,{label:"Submit",type:"submit",color:l(r).qbase,onClick:b},null,8,["color"])]),_:1},8,["onSubmit","onReset"])]))}},w=y(v,[["__scopeId","data-v-30d7ea3d"]]);export{w as default};
