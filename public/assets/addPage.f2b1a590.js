import{Q as c}from"./QInput.6e1b2dad.js";import{Q as h}from"./QSelect.11e56255.js";import{_ as q,z as y,u as g,a as m,c as k,r as p,o as f,b as _,f as n,w as x,e as l,Q as C}from"./index.ebd26a2c.js";import{Q as V}from"./QForm.caf18b7c.js";const S={class:"container"},I={__name:"addPage",setup(P){y(s=>({"2338362a":l(o).text}));let d=g(),t=m(),o=k(()=>(t=m(),d=g(),d.mode=="Dark"?{base:t.dark.base,gray:t.dark.gray,color:t.dark.color,darkColor:t.dark.darkColor,text:t.dark.text,qbase:t.dark.qbase,qtext:t.dark.qtext,qgrey:t.dark.qgrey,qcolor:t.dark.qcolor,qdarkcolor:t.dark.qdarkColor}:d.mode=="Light"?{base:t.light.base,gray:t.light.gray,color:t.light.color,qcolor:t.light.qcolor,darkColor:t.light.darkColor,text:t.light.text,qbase:t.light.qbase,qtext:t.light.qtext,qgrey:t.light.qgrey,qdarkcolor:t.light.qdarkColor}:{qbase:"blue",base:"#ecf0f1",gray:"#bdc3c7",qgrey:"grey-3",color:"#3498db",darkColor:"#2980b9",text:"#000000",qtext:"dark",qcolor:"blue-10",qdarkcolor:"dark"})),r=p({headline:"",url:"",desc:"",template:""}),u=p({templates:""});fetch("http://localhost:5500/template/all",{method:"GET",headers:{"Content-Type":"application/json",authorization:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6Ik5la28iLCJlbWFpbCI6Im5la29AdGhlNG5la28uaW8iLCJ0eXBlIjoiYWRtaW4iLCJpYXQiOjE2NzE2MzYyODd9.9760M_vr79SLJUg74lwTQ43_Kc0VApesnV-2GGjXXXA"}}).then(s=>{s.json().then(a=>{let e=[];for(let i=0;i<a.templates.length;i++)e.push(a.templates[i].name);u.templates=e})});function b(s){s.preventDefault(),fetch("http://localhost:5500/pages/",{method:"POST",headers:{"Content-Type":"application/json",authorization:d.token},body:JSON.stringify(r)}).then(a=>{a.json().then(e=>{window.location.href="http://localhost:5500/template/edit/"+r.template+"?token="+d.token+"&id="+e.id})})}return(s,a)=>(f(),_("div",S,[n(V,{onSubmit:s.onSubmit,onReset:s.onReset,class:"q-gutter-md"},{default:x(()=>[n(c,{filled:"",modelValue:l(r).headline,"onUpdate:modelValue":a[0]||(a[0]=e=>l(r).headline=e),label:"Page name *","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type something"],"bg-color":l(o).qgrey,color:l(o).qtext,"label-color":l(o).qtext},null,8,["modelValue","rules","bg-color","color","label-color"]),n(c,{filled:"",modelValue:l(r).url,"onUpdate:modelValue":a[1]||(a[1]=e=>l(r).url=e),label:"Adress *","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type something"],"bg-color":l(o).qgrey,color:l(o).qtext,"label-color":l(o).qtext},null,8,["modelValue","rules","bg-color","color","label-color"]),n(c,{filled:"",modelValue:l(r).desc,"onUpdate:modelValue":a[2]||(a[2]=e=>l(r).desc=e),label:"Short description *","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type something"],"bg-color":l(o).qgrey,color:l(o).qtext,"label-color":l(o).qtext},null,8,["modelValue","rules","bg-color","color","label-color"]),n(h,{filled:"",modelValue:l(r).template,"onUpdate:modelValue":a[3]||(a[3]=e=>l(r).template=e),options:l(u).templates,label:"Select template *",rules:[e=>e&&e.length>0||"Please select something"],"bg-color":l(o).qgrey,color:l(o).qtext,"label-color":l(o).qtext},null,8,["modelValue","options","rules","bg-color","color","label-color"]),n(C,{label:"Submit",type:"submit",color:l(o).qbase,onClick:b},null,8,["color"])]),_:1},8,["onSubmit","onReset"])]))}},G=q(I,[["__scopeId","data-v-7c9e2e87"]]);export{G as default};
