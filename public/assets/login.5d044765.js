import{Q as c}from"./QInput.dab6733f.js";import{Q as _}from"./QToggle.a50695be.js";import{_ as k,z as f,u as g,a as m,r as p,au as x,o as h,b as C,f as s,w as S,e as o,i as b,t as V,n as v,Q as w,g as Q}from"./index.f58664d0.js";import{Q as z}from"./QForm.03b90a7a.js";const B={class:"Container"},D={class:"errMessage"},P={__name:"login",setup(I){f(n=>({"5e6c7ad5":o(a).text}));let d=g(),e=m(),u=p({message:""}),a=x(()=>(e=m(),d=g(),d.mode=="Dark"?{base:e.dark.base,gray:e.dark.gray,color:e.dark.color,darkColor:e.dark.darkColor,text:e.dark.text,qbase:e.dark.qbase,qtext:e.dark.qtext,qgrey:e.dark.qgrey,qcolor:e.dark.qcolor,qdarkcolor:e.dark.qdarkColor}:d.mode=="Light"?{base:e.light.base,gray:e.light.gray,color:e.light.color,qcolor:e.light.qcolor,darkColor:e.light.darkColor,text:e.light.text,qbase:e.light.qbase,qtext:e.light.qtext,qgrey:e.light.qgrey,qdarkcolor:e.light.qdarkColor}:{qbase:"blue",base:"#ecf0f1",gray:"#bdc3c7",qgrey:"grey-3",color:"#3498db",darkColor:"#2980b9",text:"#000000",qtext:"dark",qcolor:"blue-10",qdarkcolor:"dark"})),r=p({email:"",password:"",save:!1});function q(n){n.preventDefault();let t={email:r.email,password:r.password};fetch("http://localhost:5500/auth/logIn/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(l=>{l.json().then(i=>{i.token==null?(u.message=i.message,r.password=""):d.$patch(y=>{y.token=i.token,Q.push("/")})})})}return(n,t)=>(h(),C("div",B,[s(z,{onSubmit:n.onSubmit,class:"q-gutter-md"},{default:S(()=>[s(c,{filled:"",modelValue:o(r).email,"onUpdate:modelValue":t[0]||(t[0]=l=>o(r).email=l),label:"Email*","lazy-rules":"",rules:[l=>l&&l.length>0||"Please type your email"],"bg-color":o(a).qgrey,color:o(a).qtext,"label-color":o(a).qtext},null,8,["modelValue","rules","bg-color","color","label-color"]),b("p",D,V(o(u).message),1),s(c,{filled:"",type:"password",modelValue:o(r).password,"onUpdate:modelValue":t[1]||(t[1]=l=>o(r).password=l),label:"Password *","lazy-rules":"",rules:[l=>l!==null&&l!==""||"Please type your password"],"bg-color":o(a).qgrey,color:o(a).qtext,"label-color":o(a).qtext},null,8,["modelValue","rules","bg-color","color","label-color"]),s(_,{modelValue:o(r).save,"onUpdate:modelValue":t[2]||(t[2]=l=>o(r).save=l),label:"Remember my email on this device.",class:v("text-"+o(a).qtext)},null,8,["modelValue","class"]),b("div",null,[s(w,{label:"Submit",type:"submit",color:o(a).qbase,onClick:q},null,8,["color"])])]),_:1},8,["onSubmit"])]))}},E=k(P,[["__scopeId","data-v-574eddf3"]]);export{E as default};
